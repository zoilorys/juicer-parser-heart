$(function(){function e(e){var n=$("<div>",{"class":"heart-item"}),t=$("<a>",{href:e.external}),a=$("<img>",{src:e.image,alt:e.message});return n.append(t.append(a))[0]}function n(e){for(var n={},t=0,a=9,i=0,c=1;a>=c;c++)i=Math.ceil(e.length*p[a][c]),n[c]=e.slice(t,t+i),t+=i;var r=$("<div>",{"class":"heart-item"})[0];return n[1].splice(Math.ceil(n[1].length/2),0,$.clone(r),$.clone(r)),n[2].splice(Math.ceil(n[2].length/2),0,$.clone(r)),n}function t(e){var n=$("#juicer-heart"),t=($("<div>"),Object.keys(e).map(function(n){var t=$("<div>",{"class":"heart-row"});return t.append.apply(t,e[n])}));n.fadeOut(400,function(){n.empty().append.apply(n,t).fadeIn(600)})}function a(t){return n(t.map(e))}function i(e,n){$.ajax({url:"https://juicer.io/api/feeds/heart",data:{page:1,search:e||void 0,per:80},crossDomain:!0,dataType:"jsonp"}).done(function(e){n(null,e)}).fail(n)}function c(e){i($("#juicer-search-input").val(),e)}function r(){c(function(e,n){e?console.log("Error: ",e):t(a(n.posts.items))})}function o(){$("#juicer-search-button").on("click",function(e){e.preventDefault(),r()})}function u(){$("#juicer-search-input").on("keyup",function(e){e.preventDefault(),13===e.which&&r()})}function l(){r(),o(),u()}var p={9:{1:.09,2:.12,3:.14,4:.16,5:.14,6:.12,7:.09,8:.06,9:.02}};l()});
